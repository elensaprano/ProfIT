 <html>
    <head> 
        <meta charset="utf-8">
        <script> 
            "use strict";
            /*Даны две числовые матрицы X1(М, N) и X2(N, L).
            Получить третью результирующую матрицу Y суммированием элементов каждой строки матрицы Х2
            с произведением всех элементов соответствующего столбца матрицы X1.
            Напечатать матрицу Y, после чего вывести на печать все ее элементы в порядке убывания."*/

            let M = +prompt("Введите колличество строк в первом массиве:");
            let N = +prompt("Введите колличество столбцов в первом массиве (что одновременно и кол-во строк во втором массиве):");
            let L = +prompt("Введите колличество столбцов во втором массиве:");

            let x1Array = [];
            let x2Array = [];
            let yArray = [];
            let arrayStolbik = [];
            let sortArray = new Array(N * L);

            //задаем значения Х1 матрицы
            document.write("<br> Матрица Х1 <br>"); 
            
            let mX1 = "<table>";    //начало матрицы

            for (let i = 0; i < M; i++) {     //идем по строкам

                mX1 += "<tr>";     //создаем строку матрицы
                x1Array[i] = [];

                for (let x = 0; x < N; x++) {      //идем по столбцам

                    mX1 += "<td align='center'>";       //создаем столбец матрицы с выравниванием по центру
                    x1Array[i][x] = Math.floor(Math.random()*(10 - 1 + 1)) + 1;;
                    mX1 +=  x1Array[i][[x]] + "  | ";   // задаем значения ячейкам матрицы
                }
                mX1 += "</tr>";   //закрываем строку матрицы
            }
            mX1 += "</table>";    //конец матрицы
            document.write(mX1); 

            //задаем значения Х2 матрицы
            document.write("<br> Матрица Х2 <br>");

            let mX2 = "<table>";

            for (let i = 0; i < N; i++) {     //идем по строкам

                mX2 += "<tr>";     
                x2Array[i] = [];

                for (let x = 0; x < L; x++) {   //идем по столбцам

                    mX2 += "<td align='center'>";
                    x2Array[i][x] = Math.floor(Math.random()*(10 - 1 + 1)) + 1;
                    mX2 +=  x2Array[i][[x]] + "  | ";

                }
                mX2 += "</tr>";
            }
            mX2 += "</table>";
            document.write(mX2);

            document.write("<br> Произведение каждого столбика  <br>");

            for (let x = 0; x < N; x++) {   //столбик

                let multiplication = x1Array[0][x];

                for (let j = 1; j < M; j++) {       //строка

                    multiplication *= x1Array[j][x];
                    arrayStolbik[x] = multiplication;

                }
                document.write(arrayStolbik[x] + "  |  ");
            }
            document.write("<br>");

            
            //создаем матрицу Y (результирующая)
            document.write("<br> Матрица Y <br>");

            let mY = "<table>";

            for(let i = 0; i < N; i++) {   //строка

                mY += "<tr>";
                yArray[i] = [];

                for(let x = 0; x < L; x++) {   //столбик

                    mY += "<td align='center'>";
                    yArray[i][x] = x2Array[i][x] + arrayStolbik[i];
                    mY +=  yArray[i][[x]] + "  | ";

                }
                mY += "</tr>";
            }

            mY += "</table>";
            document.write(mY);

            document.write("<br>Элементы матрицы Y с использованием метода бинарных вставок <br>");

            //выносим все элементы матрицы в одномерный массив

            let j = 0;  //cчетчик индекса одномерного массива sortArray

            for(let i = 0; i < N; i++) {   //строка

                for(let x = 0; x < L; x++) {   //столбик

                    sortArray[j] = yArray[i][x];
                    j++;

                }
            }

            //начинаем сортировку одномерного массива методом бинарных вставок

            for (let i = 0; i < sortArray.length; i++) {

                let x = sortArray[i];
                let firstIndex = 0;
                let lastIndex = i;

                while (firstIndex < lastIndex) {

                    let center = Math.trunc((firstIndex + lastIndex)/2);

                    if (x < sortArray[center]){

                        firstIndex = center + 1;
                    } else {

                        lastIndex = center;
                    }
                }
                for (let j = i; j > firstIndex; j--) {

                    sortArray[j] = sortArray[j-1];
                }
                sortArray[firstIndex] = x;
            }
            document.write(sortArray);

            
            // начинаем сортировку одномерного массива пузырьковой сортировкой

            // for ( let x = 0; x < sortArray.length; x++){
            //     for (let i = 0; i < sortArray.length-1; i++) {
            //         if (sortArray[i] < sortArray[i+1]) {
            //             let y = sortArray[i];
            //             sortArray[i] = sortArray[i+1];
            //             sortArray[i+1] = y;
            //         }  
            //     }
            // }
            // document.write(sortArray);

        </script>
    </head> 
    <body> 
    </body>               
</html>    